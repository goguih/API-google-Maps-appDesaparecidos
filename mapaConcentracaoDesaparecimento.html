<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="imagem/png" href="https://i.imgur.com/llFftiv.png"/>
  <link rel="stylesheet" href="../css/mapaConcentracaoDesaparecimento.css">
  <title>Mapeamento de Desaparecidos</title>
</head>
<body>
  <header>
    <div class="container-logo">
      <div class="logo-imagem">
        <img src="https://i.imgur.com/Zf92voQ.gif" alt="" style="height: 60px; width: 100px;">
      </div>
       <div class="logo-text">
       <h1>OBSOL - Solução em observação</h1>
      </div>
    
    </div>

    <div class="menu">
      <ul>
        <li> <a href="./indexLogado.html">Desaparecidos</a></li>
        <li><a href="./mapaDesaparecidos.html">Mapa de desaparecidos</a></li>
        <li><a href="./denuncias.html">Denúncias</a></li>
        <button type="submit" class="btn btn-primary" onclick="deslogar()">Sair</button>
      </ul>
      
    </div>
  </header>
  <div id="map"></div>

  <div id="legenda">
     <div style="font-size: large; font-style: italic; font-style: oblique;"> Legenda:</div>

    <div class="display-flex"><div class="legend-box" style="background: #FFFF00;" ></div> Casos inferiores (1-5)</div>
    <div class="display-flex"><div class="legend-box" style="background: #FFA500;"></div> Casos regulares (6-10) </div>
    <div class="display-flex"><div class="legend-box" style="background: #F10000;"></div> Casos intensos (11+) </div>
  </div>
  <script>
    function initMap(){
    const labels = ['7','3','12','2','11','1','8','6','1','3','16'];
    let labelIndex = 0;
    const mapaInicial = {lat: -22.84781335058937, lng: -47.069276745222204};
    const CampinasCambui = {lat:-22.89545007775811, lng:-47.05372450936308};
    const CampinasCambuiv2 = {lat:-22.89555952761046, lng:-47.08827878381875};  
    const CampinasSeila = {lat:-22.874415510751415, lng:-47.18868502649785};
    const CampinasSeilav2 = {lat:-22.81589912741278, lng:-47.060810246169105};
    const CampinasSeilav3 = {lat:-22.85444407625811, lng:-47.12256444933308};
    const CampinasSeilav4 = {lat:-22.84223907755811, lng:-47.15514350932308};
    const CampinasSeilav5 = {lat:-22.82126907745811, lng:-47.08546450931308}; 
    const CampinasSeilav6 = {lat:-22.82345906524321, lng:-47.02354350943211};  
    const CampinasSeilav7 = {lat:-22.81045907885811, lng:-47.16686450939308};  
    const CampinasSeilav8 = {lat:-22.873188774961054, lng:-47.02589971262048};   
      
   // Map options
   var options = {
     zoom:13,
     center: mapaInicial,
     disableDefaultUI : true, // desabilitar controles
     //remover todos os pontos de interesse
       styles:[{
   "featureType": "poi",
   "stylers": [{
     "visibility": "off"
   }]
      }],
  mapTypeId: google.maps.MapTypeId.ROADMAP,
    
  }
  
  // New map
  var map = new google.maps.Map(document.getElementById('map'), options);
  map.controls[google.maps.ControlPosition.RIGHT_TOP].push(
  document.getElementById('legenda'))
          
  const circles = [     
    position = new google.maps.Circle({
    id:1,
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    strokeColor: '#FFA500',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFA500',
    fillOpacity: .3,
    center : mapaInicial,
    radius: 2000,
    map:map,
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:2,
    strokeColor: '#FFFF00',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFFF00',
    fillOpacity: .3,
    center : CampinasCambuiv2,
    radius: 2000,
    map:map,
  }),
   
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:3,
    strokeColor: '#F10000',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#F10000',
    fillOpacity: .5,
    center : CampinasCambui,
    radius: 1000,
    map:map,
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',  
    id:4,
    strokeColor: '#FFFF00',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFFF00',
    fillOpacity: .3,
    center : CampinasSeila,
    radius: 2000,       
    map:map,
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:5,
    strokeColor: '#F10000',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#F10000',
    fillOpacity: .6,
    center : CampinasSeilav2,
    radius: 500,      
    map:map
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:6,
    strokeColor: '#FFFF00',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFFF00',
    fillOpacity: .3,
    center : CampinasSeilav3,
    radius: 2000,       
    map:map
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:7,
    strokeColor: '#FFA500',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFA500',
    fillOpacity: .4,
    center : CampinasSeilav4,
    radius: 1500,   
    map:map
  }),
    position= new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:8,
    strokeColor: '#FFA500',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFA500',
    fillOpacity: .5,
    center : CampinasSeilav5,
    radius: 1000,    
    map:map
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:9,
    strokeColor: '#FFFF00',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFFF00',
    fillOpacity: .3,
    center : CampinasSeilav6,
    radius: 2000,    
    map:map
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:10,
    strokeColor: '#FFFF00',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#FFFF00',
    fillOpacity: .3,
    center : CampinasSeilav7,
    radius: 2000,    
    map:map
  }),
    position = new google.maps.Circle({
    iconImage: 'https://i.imgur.com/aY46g9r.png?1',
    id:11,
    strokeColor: '#F10000',
    strokeWeight: 2,
    strokeOpacity: 1,
    fillColor: '#F10000',
    fillOpacity: .7,
    center : CampinasSeilav8,
    radius: 400,    
    map:map,
  })
  ]
          
  for(var i = 0;i < circles.length;i++){
    addMarker(circles[i]);
    labelIndex++;
  }
  function addMarker(props){
    var marker = new google.maps.Marker({
      position:props.center,
      map:map,
      clickable: true,
      label: { text: (labels[labelIndex]), fontWeight: "bold", fontSize: "20px" }          
    });
    if(props.iconImage){
      marker.setIcon(props.iconImage);
    }
  }        
  }
  
      if(localStorage.getItem('token') == null){
        alert("Necessário estar logado!");
    window.location.href = "./index.html"
  }
  
  //Não permitir inspecionar elemento
  
  window.addEventListener("keydown", ev => {
    switch( true ) {
      /* Previne F12 */
      case ev.keyCode === 123:
      
      /* Previne Ctrl + Shift +  */
      case ev.ctrlKey && ev.shiftKey && event.keyCode == 74:
      
      /* Previne Ctrl + U */
      case ev.ctrlKey && ev.keyCode == 85:
        console.log("Tecla bloqueada");
        ev.preventDefault();
        return false;
    }
  })
  
  /* Previne clique direito do mouse */
  window.addEventListener("contextmenu", ev => {
    ev.preventDefault();
    return false;
  });
  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDO9a7PunmwVn12eK-_0qxT1xOwuU3UV0o&callback=initMap">
    </script>
    <script text="text/javascript" src="../css/mapaConcentracaoDesaparecimento.css"></script>
</body>
</html>
